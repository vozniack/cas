<div fxLayout="column" fxLayoutGap="24px" @fadeInAnimation>

  <div fxLayout="row" fxLayoutAlign="space-between center">
    <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="16px">
      <cas-avatar [user]="user" [size]="'big'"></cas-avatar>

      <div fxLayout="column">
        <h1>{{user.firstName}} {{user.lastName}}</h1>
        <h3 class="color-light">{{user.email}}</h3>
      </div>
    </div>

    <div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="16px">
      <cas-button-rectangle [theme]="'primary'" [iconLeft]="'create-outline'"></cas-button-rectangle>

      <cas-button-rectangle [theme]="'secondary'" [iconLeft]="'trash-outline'"
                            (click)="deleteUser()">
      </cas-button-rectangle>
    </div>
  </div>

  <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="16px">
    <ng-container *ngFor="let organization of user.organizations">
      <ng-container *ngIf="selectedOrganization">
        <div class="user-organization" [class.active]="selectedOrganization.id == organization.id"
             fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="8px"
             (click)="selectOrganization(organization.id)">
          <ion-icon [name]="organization.icon"></ion-icon>
          <span>{{organization.name}}</span>
        </div>
      </ng-container>
    </ng-container>
  </div>

  <div fxLayout="row" fxLayoutAlign="space-between top" fxLayoutGap="32px">
    <div fxLayout="column" fxFlex="70">
      <cas-user-privileges [user]="user" [userPrivileges]="userPrivileges"
                           [selectedOrganization]="selectedOrganization">
      </cas-user-privileges>
    </div>

    <div fxLayout="column" fxLayoutGap="32px" fxFlex="30">
      <cas-user-details [user]="user"></cas-user-details>
    </div>
  </div>
</div>
